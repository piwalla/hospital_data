# 다음 작업 가이드 (2025-01-14 업데이트)

## ✅ 완료된 작업 요약

### Priority 1, 2 디자인 시스템 개선 (완료)
- ✅ H2 타이포그래피 수정 (18px → 22px)
- ✅ 배경색 수정 (#FFFFFF → #F2F2F7)
- ✅ Neutral 색상 체계 적용 (#1C1C1E, #8A8A8E)
- ✅ 정보 카드 스타일 개선 (그림자 효과)
- ✅ 필터 버튼 비활성 상태 색상 통일

---

## 🎯 다음 작업 추천 (우선순위별)

### 🔴 Priority 1: 즉시 필요 (사용자 경험 개선)

#### 1. 하드코딩된 색상을 CSS 변수로 통일 (30분-1시간)
**현재 상태**: `app/hospitals/page-client.tsx`에 하드코딩된 색상 존재
- `#3478F6` (병원 필터 활성화)
- `#34C759` (약국 필터 활성화)
- `#9333EA` (재활기관 필터 활성화, 재활기관 마커)

**작업 내용**:
- [ ] `app/globals.css`에 이미 정의된 CSS 변수 확인 (`--primary`, `--secondary` 등)
- [ ] 하드코딩된 색상을 CSS 변수로 교체
  - `bg-[#3478F6]` → `bg-primary`
  - `bg-[#34C759]` → `bg-secondary`
  - `bg-[#9333EA]` → 새로운 CSS 변수 생성 또는 기존 변수 활용
- [ ] `components/HospitalMap.tsx`의 마커 색상도 CSS 변수로 통일
- [ ] 모든 파일에서 하드코딩된 색상 검색 및 교체

**예상 소요 시간**: 30분-1시간
**의존성**: 없음
**영향도**: 중간 (유지보수성 향상)

---

### 🟡 Priority 2: 사용자 경험 개선

#### 2. 진료과목별 필터링 기능 (2-3시간)
**현재 상태**: 기관 유형별 필터링은 완료, 진료과목별 필터링은 미구현

**작업 내용**:
- [ ] 데이터베이스에서 진료과목 데이터 분석
  ```sql
  SELECT DISTINCT department FROM hospitals_pharmacies WHERE department IS NOT NULL;
  ```
- [ ] 필터 UI 컴포넌트 생성
  - 체크박스 또는 드롭다운 선택
  - 다중 선택 가능
- [ ] 필터링 로직 구현
  - `lib/api/hospitals.ts`에 `getHospitalsByDepartment` 함수 추가
  - 기관 유형 필터와 진료과목 필터 조합 가능
- [ ] 지도 및 목록에 필터 적용
- [ ] 필터 상태 관리 (URL 쿼리 파라미터 또는 상태 관리)

**예상 소요 시간**: 2-3시간
**의존성**: 없음
**영향도**: 중간 (사용자 편의성 향상)

---

### 🟢 Priority 3: 개선 (선택사항)

#### 3. 필터 버튼 그룹 시각적 계층 개선 (1시간)
**현재 상태**: 반경 선택과 기관 유형 선택 버튼이 동일한 스타일

**작업 내용**:
- [ ] 반경 선택 그룹과 기관 유형 선택 그룹을 시각적으로 구분
  - 그룹 간 간격 추가
  - 그룹 제목 스타일 강화
  - 배경색 또는 테두리로 구분
- [ ] 반응형 디자인 고려 (모바일에서도 구분이 명확하도록)

**예상 소요 시간**: 1시간
**의존성**: 없음
**영향도**: 낮음 (시각적 개선)

#### 4. 컴포넌트별 타이포그래피 일관성 검증 (1-2시간)
**현재 상태**: H1, H2는 적용 완료, body, caption 등은 부분 적용

**작업 내용**:
- [ ] 모든 컴포넌트에서 타이포그래피 사용 현황 확인
- [ ] PRD 규격과 다른 부분 수정
  - body: 17px
  - caption: 14px
- [ ] Tailwind CSS 유틸리티 클래스로 표준화

**예상 소요 시간**: 1-2시간
**의존성**: 없음
**영향도**: 낮음 (일관성 향상)

---

### 🔵 Priority 4: 장기 작업

#### 5. 사용자 활동 로깅 (2-3시간)
**작업 내용**:
- [ ] 로깅 함수 생성 (`lib/utils/logging.ts`)
- [ ] 주요 이벤트에 로깅 추가
  - 병원 클릭
  - 필터 변경
  - 지도 이동
  - 반경 변경
- [ ] `user_activity_logs` 테이블에 저장

**예상 소요 시간**: 2-3시간
**의존성**: 없음
**영향도**: 중간 (분석 기반 마련)

---

## 📊 작업 우선순위 매트릭스

| 우선순위 | 작업 | 영향도 | 난이도 | 예상 시간 | 의존성 | 상태 |
|---------|------|--------|--------|-----------|--------|------|
| 🔴 P1 | 하드코딩 색상 CSS 변수 통일 | 중간 | 낮음 | 30m-1h | 없음 | ⏳ |
| 🟡 P2 | 진료과목별 필터링 | 중간 | 중간 | 2-3h | 없음 | ⏳ |
| 🟢 P3 | 필터 버튼 그룹 시각적 계층 개선 | 낮음 | 낮음 | 1h | 없음 | ⏳ |
| 🟢 P3 | 타이포그래피 일관성 검증 | 낮음 | 낮음 | 1-2h | 없음 | ⏳ |
| 🔵 P4 | 사용자 활동 로깅 | 중간 | 중간 | 2-3h | 없음 | ⏳ |

---

## 💡 추천 작업 순서

1. **하드코딩 색상 CSS 변수 통일** (30분-1시간)
   - 빠르게 완료 가능
   - 유지보수성 향상
   - 다음 작업의 기반이 됨

2. **진료과목별 필터링** (2-3시간)
   - 사용자 경험 개선
   - 기관 유형 필터와 조합 가능

3. **필터 버튼 그룹 시각적 계층 개선** (1시간)
   - 선택사항이지만 UI 개선에 도움

4. **타이포그래피 일관성 검증** (1-2시간)
   - 선택사항, 디자인 시스템 완성도 향상

5. **사용자 활동 로깅** (2-3시간)
   - 장기적으로 유용하나 즉시 필요하지 않음

---

## 🔍 작업 시작 전 확인사항

### 하드코딩 색상 통일 시작 전
- [ ] `app/globals.css`의 CSS 변수 확인
- [ ] 하드코딩된 색상 위치 파악 (`grep` 사용)
- [ ] CSS 변수로 교체할 색상 목록 정리

### 진료과목별 필터링 시작 전
- [ ] 데이터베이스에서 진료과목 데이터 확인
- [ ] 필터 UI 디자인 결정 (체크박스 vs 드롭다운)
- [ ] 필터 상태 관리 방식 결정 (상태 관리 vs URL 쿼리)

---

## 📝 참고 문서

- `docs/TODO.md`: 전체 작업 목록
- `docs/PRD.md`: 제품 요구사항 문서
- `app/globals.css`: CSS 변수 정의 (54-82줄)
- `app/hospitals/page-client.tsx`: 현재 필터링 로직
