# 리워크케어(ReWorkCare) 다음 작업 계획

**작성일**: 2025-01-14  
**기준 문서**: `docs/TODO.md`

---

## 📊 현재 진행 상황 요약

### ✅ 완료된 주요 작업
- ✅ 프로젝트 초기 설정 및 인프라 구축 (Phase 1.1)
- ✅ 병원 찾기 기본 기능 (지도, 마커, 필터링)
- ✅ 재활기관 데이터 추가 및 지도 연동
- ✅ 기관 유형별 필터링
- ✅ 진료과목별 필터링
- ✅ 디자인 시스템 개선 (헤더, 네비게이션, 필터 UI)

### ⏳ 진행 중 / 미완료 작업
- ⏳ 지역 선택 필터 기능
- ⏳ 서류 AI 요약 가이드 기능 (전체)
- ⏳ 사용자 활동 로깅
- ⏳ 디자인 시스템 최종 검증
- ⏳ 최적화 및 배포 준비

---

## 🎯 우선순위별 작업 계획

### 🔴 Priority 1: 즉시 필요 (핵심 기능 완성)

#### 1. 서류 AI 요약 가이드 기능 구현 (Phase 1.3)
**예상 소요 시간**: 2-3일  
**의존성**: 없음  
**상태**: ⏳ 미시작

**세부 작업**:
- [ ] **OpenAI API 연동 설정** (2-3시간)
  - [ ] OpenAI SDK 설치 (`openai` 패키지)
  - [ ] API 키 환경변수 설정 (`.env.local`)
  - [ ] 에러 처리 및 재시도 로직 구현
  - [ ] Rate limiting 처리

- [ ] **서류 목록 관리** (3-4시간)
  - [ ] 주요 산재 서류 데이터 정의
    - 산재신청서
    - 요양급여 신청서
    - 장해등급 신청서
    - 휴업급여 신청서
    - 기타 주요 서류
  - [ ] 서류 카테고리 구조 설계
  - [ ] 서류 기본 정보 스키마 정의 (Supabase 테이블)

- [ ] **AI 요약 가이드 생성** (4-5시간)
  - [ ] 프롬프트 엔지니어링 (gpt-4-turbo)
  - [ ] 서류별 맞춤 요약 생성 함수
  - [ ] 면책 조항 자동 포함 로직
  - [ ] 캐싱 전략 (동일 서류 재요청 시)

- [ ] **서류 가이드 UI 구현** (5-6시간)
  - [ ] 서류 목록 페이지 생성 (`app/documents/page.tsx`)
  - [ ] 아코디언 컴포넌트로 서류 목록 표시
  - [ ] AI 요약 결과 표시 컴포넌트
  - [ ] 서식 다운로드 링크
  - [ ] 작성 예시 링크
  - [ ] 로딩 상태 및 에러 처리

- [ ] **사용자 활동 로깅** (1-2시간)
  - [ ] 서류 조회 로그 기록
  - [ ] AI 요청 로그 기록
  - [ ] 다운로드 및 공유 활동 추적

**참고 문서**:
- OpenAI API 문서: https://platform.openai.com/docs
- 서류 목록은 근로복지공단 공식 문서 참고

---

### 🟡 Priority 2: 사용자 경험 개선

#### 2. 지역 선택 필터 기능
**예상 소요 시간**: 5.5-9.5시간  
**의존성**: 없음  
**상태**: ⏳ 미시작

**세부 작업**:
- [ ] **지역 데이터 구조 정의** (1-2시간)
  - [ ] 시/도 목록 정의
  - [ ] 시/군/구 목록 정의 (광역시 포함)
  - [ ] 지역 데이터 타입 정의

- [ ] **지역 선택 UI 컴포넌트** (2-3시간)
  - [ ] `components/RegionSelector.tsx` 생성
  - [ ] 시/도 드롭다운
  - [ ] 시/군/구 드롭다운 (시/도 선택 후 활성화)
  - [ ] 검색 모드 전환 UI (내 위치 주변 vs 지역 선택)

- [ ] **주소 파싱 유틸리티** (1-2시간)
  - [ ] `lib/utils/address-parser.ts` 생성
  - [ ] 주소에서 시/도, 시/군/구 추출 함수
  - [ ] 주소 정규화 로직

- [ ] **지역 기반 필터링 함수** (2-3시간)
  - [ ] `getHospitalsByRegion()` 함수 구현
  - [ ] `getRehabilitationCentersByRegion()` 함수 구현
  - [ ] 지역 선택 시 지도 중심 이동 로직
  - [ ] 검색 모드에 따른 필터링 로직 통합

**참고 문서**: `docs/REGION_FILTER_PLAN.md` (상세 계획)

---

### 🟢 Priority 3: 디자인 시스템 정리

#### 3. 색상 팔레트 일관성 검증
**예상 소요 시간**: 1시간  
**의존성**: 없음  
**상태**: ⏳ 미시작

**세부 작업**:
- [ ] **하드코딩된 색상 검색** (20분)
  - [ ] `#3478F6` (Primary 색상)
  - [ ] `#34C759` (Success 색상)
  - [ ] `#9333EA` (재활기관 마커 색상)
  - [ ] `#FF9500` (Alert 색상)
  - [ ] 기타 하드코딩된 색상

- [ ] **CSS 변수로 통일** (40분)
  - [ ] `app/globals.css`에 색상 변수 정의
  - [ ] 컴포넌트에서 하드코딩된 색상을 CSS 변수로 교체
  - [ ] Tailwind 색상 클래스 활용 검토

**참고**: `app/globals.css` (54-59줄: PRD 색상 정의)

#### 4. 타이포그래피 시스템 검증
**예상 소요 시간**: 1-2시간  
**의존성**: 없음  
**상태**: ⏳ 미시작

**세부 작업**:
- [ ] **컴포넌트별 타이포그래피 사용 현황 확인** (30분)
  - [ ] 모든 컴포넌트에서 텍스트 크기 검색
  - [ ] PRD 규격과 다른 부분 식별
    - h1: 28px ✅
    - h2: 22px ✅
    - body: 17px
    - caption: 14px

- [ ] **타이포그래피 표준화** (1-1.5시간)
  - [ ] PRD 규격과 다른 부분 수정
  - [ ] Tailwind CSS 유틸리티 클래스로 표준화
  - [ ] 일관성 검증

**참고**: `app/globals.css` (129-141줄: 타이포그래피 스케일 정의)

---

### 🔵 Priority 4: 분석 기반 마련

#### 5. 사용자 활동 로깅
**예상 소요 시간**: 2-3시간  
**의존성**: 없음  
**상태**: ⏳ 미시작

**세부 작업**:
- [ ] **로깅 함수 생성** (1시간)
  - [ ] `lib/utils/logging.ts` 생성
  - [ ] `logUserActivity()` 함수 구현
  - [ ] 로그 타입 정의 (검색, 조회, 필터 변경 등)

- [ ] **주요 이벤트에 로깅 추가** (1-2시간)
  - [ ] 병원 검색 로그
  - [ ] 병원 클릭 로그
  - [ ] 필터 변경 로그
  - [ ] 지도 이동 로그
  - [ ] 위치 정보 로그
  - [ ] `user_activity_logs` 테이블에 저장

**참고**: `user_activity_logs` 테이블은 이미 생성되어 있음

---

### 🚀 Priority 5: 최적화 및 배포 준비

#### 6. 성능 최적화
**예상 소요 시간**: 1-2일  
**의존성**: 없음  
**상태**: ⏳ 미시작

**세부 작업**:
- [ ] **지도 로딩 최적화** (2-3시간)
  - [ ] 지도 로딩 시간 2초 이내 목표
  - [ ] 마커 렌더링 최적화 (가상화 고려)
  - [ ] 지도 타일 캐싱

- [ ] **페이지 초기 로드 최적화** (3-4시간)
  - [ ] 초기 로드 3초 이내 목표
  - [ ] 코드 스플리팅
  - [ ] 이미지 최적화 (Next.js Image 컴포넌트)
  - [ ] 정적 파일 최적화

#### 7. 반응형 디자인 완성
**예상 소요 시간**: 반나절  
**의존성**: 없음  
**상태**: ⏳ 미시작

**세부 작업**:
- [ ] **브레이크포인트별 레이아웃 검증** (2-3시간)
  - [ ] 모바일 (320px ~ 767px)
  - [ ] 태블릿 (768px ~ 1023px)
  - [ ] 데스크톱 (≥ 1024px)
  - [ ] 터치 인터랙션 최적화

#### 8. 접근성 및 사용성 개선
**예상 소요 시간**: 반나절  
**의존성**: 없음  
**상태**: ⏳ 미시작

**세부 작업**:
- [ ] **WCAG 2.1 AA 준수 검증** (2-3시간)
  - [ ] 색상 대비 검증
  - [ ] 키보드 네비게이션 지원
  - [ ] 스크린 리더 지원 (ARIA 라벨)

#### 9. 배포 설정
**예상 소요 시간**: 반나절  
**의존성**: 없음  
**상태**: ⏳ 미시작

**세부 작업**:
- [ ] **Vercel 배포 설정** (1-2시간)
  - [ ] Vercel 프로젝트 생성
  - [ ] GitHub 연동
  - [ ] 환경변수 프로덕션 설정
  - [ ] 도메인 및 SSL 설정

#### 10. 테스트 및 QA
**예상 소요 시간**: 2-3일  
**의존성**: 없음  
**상태**: ⏳ 미시작

**세부 작업**:
- [ ] **단위 테스트 작성** (1일)
  - [ ] Jest + React Testing Library 설정
  - [ ] 주요 컴포넌트 테스트
  - [ ] 유틸리티 함수 테스트

- [ ] **통합 테스트 구현** (반나절)
  - [ ] API 엔드포인트 테스트
  - [ ] 데이터베이스 연동 테스트

- [ ] **E2E 테스트 (Playwright)** (1일)
  - [ ] 주요 사용자 시나리오 테스트
  - [ ] 병원 찾기 플로우 테스트
  - [ ] 필터링 기능 테스트

- [ ] **크로스 브라우저 테스트** (반나절)
  - [ ] Chrome, Firefox, Safari, Edge
  - [ ] 모바일 브라우저 (iOS Safari, Chrome)

---

## 📅 추천 작업 순서

### Week 1: 핵심 기능 완성
1. **서류 AI 요약 가이드 기능 구현** (Priority 1) - 2-3일
   - OpenAI API 연동
   - 서류 목록 관리
   - AI 요약 가이드 생성
   - UI 구현

### Week 2: 사용자 경험 개선
2. **지역 선택 필터 기능** (Priority 2) - 1일
3. **사용자 활동 로깅** (Priority 4) - 반나절
4. **디자인 시스템 정리** (Priority 3) - 반나절
   - 색상 팔레트 일관성 검증
   - 타이포그래피 시스템 검증

### Week 3: 최적화 및 배포
5. **성능 최적화** (Priority 5) - 1-2일
6. **반응형 디자인 완성** (Priority 5) - 반나절
7. **접근성 및 사용성 개선** (Priority 5) - 반나절
8. **배포 설정** (Priority 5) - 반나절
9. **테스트 및 QA** (Priority 5) - 2-3일

---

## 💡 작업 시작 전 확인사항

### 서류 AI 요약 가이드 기능 시작 전
- [ ] OpenAI API 키 발급 확인
- [ ] OpenAI API 사용량 및 비용 확인
- [ ] 서류 목록 및 카테고리 정의 확인
- [ ] 프롬프트 엔지니어링 전략 수립

### 지역 선택 필터 기능 시작 전
- [ ] 지역 데이터 구조 확인
- [ ] 주소 파싱 로직 검토
- [ ] 검색 모드 전환 UI 디자인 확인

### 성능 최적화 시작 전
- [ ] 현재 성능 지표 측정 (Lighthouse)
- [ ] 병목 지점 식별
- [ ] 최적화 우선순위 결정

### 배포 시작 전
- [ ] 프로덕션 환경변수 확인
- [ ] 데이터베이스 백업
- [ ] 도메인 및 SSL 인증서 준비

---

## 📝 참고 문서

- `docs/TODO.md`: 전체 작업 목록
- `docs/REGION_FILTER_PLAN.md`: 지역 선택 필터 상세 계획
- `docs/design.md`: 디자인 시스템 가이드
- `docs/PRD.md`: 제품 요구사항 문서

---

**마지막 업데이트**: 2025-01-14















