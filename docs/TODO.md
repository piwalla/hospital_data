# 리워크케어(ReWorkCare) Phase 1 개발 작업 목록

---

## 🎯 Phase 1 MVP: 산재 환자 지원 플랫폼 기본 기능 구현

### Phase 1.1: 프로젝트 초기 설정 및 인프라 구축
- [x] **데이터베이스 스키마 설정** (setup_schema.sql, setup_storage.sql)
  - [x] Clerk 연동용 users 테이블 생성
  - [x] hospitals_pharmacies 테이블 생성 (공간 인덱스 포함)
  - [x] user_activity_logs 테이블 생성
  - [x] uploads 스토리지 버킷 설정 (public, 이미지 전용)
- [x] **GitHub Repository 설정**
  - [x] 원격 저장소 연결 (https://github.com/piwalla/hospital_data.git)
  - [x] 초기 커밋 및 푸시
- [ ] **Next.js 15 프로젝트 초기화**
  - [ ] Next.js 15 + TypeScript + Tailwind CSS v4 설정
  - [ ] shadcn/ui 컴포넌트 라이브러리 설치 및 설정
  - [ ] 기본 폴더 구조 생성 (app/, components/, lib/, hooks/)
  - [ ] 환경변수 파일 생성 (.env.example, .env.local)
- [ ] **Supabase 클라이언트 설정**
  - [ ] lib/supabase/ 디렉토리 생성
  - [ ] server.ts, client.ts, clerk-client.ts 파일 생성
  - [ ] 환경변수 연결 및 타입 정의
- [ ] **Clerk 인증 설정**
  - [ ] Clerk SDK 설치 및 초기화
  - [ ] middleware.ts 생성 (라우트 보호)
  - [ ] 사용자 동기화 훅 구현 (use-sync-user.ts)
- [ ] **기본 UI 컴포넌트 및 레이아웃**
  - [ ] 디자인 토큰 설정 (색상, 타이포그래피)
  - [ ] RootLayout 및 기본 페이지 구조
  - [ ] 하단 탭 네비게이션 컴포넌트

### Phase 1.2: 병원 찾기 기능 구현
- [ ] **공공데이터포털 API 연동**
  - [x] API 문서 확인 및 정리 (docs/api-data-kr.md)
  - [x] API 인증키 테스트 및 데이터 구조 확인 (총 5,216개 기관)
  - [ ] API 클라이언트 생성 (data.go.kr)
  - [ ] 산재 지정 의료기관 데이터 조회 함수
  - [ ] 데이터 변환 및 캐싱 로직 구현
- [ ] **지도 컴포넌트 구현**
  - [x] Naver Maps API 문서 확인 및 정리 (docs/naver-maps-api.md)
  - [x] Naver Maps API 키 인증 성공 (데이터 응답 확인)
  - [x] Dynamic Map SDK 작동 확인 및 문서 업데이트 (도메인 제한 기록)
  - [ ] Naver Maps API 연동 (Next.js 컴포넌트 개발)
  - [ ] 위치 권한 요청 및 처리
  - [ ] 사용자 위치 기반 지도 초기화
- [ ] **병원 마커 표시 및 필터링**
  - [ ] 병원/약국 위치에 마커 표시
  - [ ] 진료과목별 필터링 기능
  - [ ] 반경 5km 내 검색 로직
- [ ] **병원 상세 정보 표시**
  - [ ] Bottom Sheet 또는 모달 컴포넌트
  - [ ] 병원 정보 표시 (이름, 주소, 전화번호, 진료과목)
  - [ ] 전화 걸기, 길찾기 기능 연동
- [ ] **사용자 활동 로깅**
  - [ ] 병원 검색 및 조회 로그 기록
  - [ ] 위치 정보 및 필터 사용 로그

### Phase 1.3: 서류 AI 요약 가이드 기능 구현
- [ ] **OpenAI API 연동 설정**
  - [ ] OpenAI SDK 설치 및 설정
  - [ ] API 키 환경변수 연결
  - [ ] 에러 처리 및 재시도 로직
- [ ] **서류 목록 관리**
  - [ ] 주요 산재 서류 데이터 정의
  - [ ] 서류 카테고리 및 기본 정보 구조
- [ ] **AI 요약 가이드 생성**
  - [ ] 프롬프트 엔지니어링 (gpt-4-turbo)
  - [ ] 서류별 맞춤 요약 생성 함수
  - [ ] 면책 조항 자동 포함 로직
- [ ] **서류 가이드 UI 구현**
  - [ ] 아코디언 컴포넌트로 서류 목록 표시
  - [ ] AI 요약 결과 표시
  - [ ] 서식 다운로드 및 작성 예시 링크
- [ ] **사용자 활동 로깅**
  - [ ] 서류 조회 및 AI 요청 로그 기록
  - [ ] 다운로드 및 공유 활동 추적

### Phase 1.4: 최적화 및 배포 준비
- [ ] **성능 최적화**
  - [ ] 지도 로딩 시간 2초 이내 최적화
  - [ ] 페이지 초기 로드 3초 이내 목표
  - [ ] 이미지 및 정적 파일 최적화
- [ ] **반응형 디자인 완성**
  - [ ] 모바일 우선 디자인 검증 (320px+)
  - [ ] 태블릿/데스크톱 레이아웃 조정
  - [ ] 터치 인터랙션 최적화
- [ ] **접근성 및 사용성 개선**
  - [ ] WCAG 2.1 AA 준수 검증
  - [ ] 키보드 네비게이션 지원
  - [ ] 스크린 리더 지원 (ARIA 라벨)
- [ ] **배포 설정**
  - [ ] Vercel 배포 설정
  - [ ] 환경변수 프로덕션 설정
  - [ ] 도메인 및 SSL 설정
- [ ] **테스트 및 QA**
  - [ ] 단위 테스트 작성 (Jest + RTL)
  - [ ] 통합 테스트 구현
  - [ ] E2E 테스트 (Playwright)
  - [ ] 크로스 브라우저 테스트

---

## 📋 Phase 1 완료 기준 (PRD.md 기준)

### 기능적 완료 기준
- ✅ 병원 찾기: 지도 로딩 성공률 > 98%
- ✅ 서류 가이드: AI 응답 정확도 > 90%
- ✅ API 안정성: 전체 API 응답 성공률 > 95%

### 사용자 경험 기준
- ✅ 페이지 로드: 초기 < 3초, 상호작용 < 2초
- ✅ 모바일 최적화: 모바일 사용자 비율 > 70%
- ✅ 접근성: WCAG 2.1 AA 준수

### 기술적 기준
- ✅ 서버 응답: 평균 < 500ms
- ✅ 가용성: uptime > 99.5%
- ✅ 데이터 정확성: 병원 정보 정확도 > 99%

---

## 🔄 Phase 2 준비 작업 (향후 확장)
- [ ] RAG 기반 AI 챗봇 도입
- [ ] 사용자 커뮤니티 기능
- [ ] 명상 콘텐츠 AI 추천
- [ ] 가족 케어 매칭 시스템
- [ ] 구독 모델 및 결제 시스템
