# 🛠️ 기술 스택 및 아키텍처 (Tech Stack & Architecture)

이 문서는 ReworkCare 프로젝트를 구성하는 기술들과 전체적인 시스템 구조를 설명합니다.

## 1. 기술 스택 요약 (Tech Stack)

### 🖥️ Frontend (사용자에게 보여지는 부분)

| 기술              | 버전 | 설명                             | 비유                         |
| ----------------- | ---- | -------------------------------- | ---------------------------- |
| **Next.js**       | 15.x | 웹사이트 프레임워크 (React 기반) | 건물의 뼈대와 구조           |
| **TypeScript**    | 5.x  | JavaScript에 타입을 더한 언어    | 안전한 건축 자재 (오류 방지) |
| **Tailwind CSS**  | 4.x  | 스타일링 도구                    | 인테리어 및 도색             |
| **shadcn/ui**     | -    | UI 컴포넌트 라이브러리           | 미리 만들어진 가구 세트      |
| **Framer Motion** | -    | 애니메이션 라이브러리            | 부드러운 움직임 효과         |

### ⚙️ Backend & Data (서버 및 데이터 처리)

| 기술                 | 설명                                            | 비유                      |
| -------------------- | ----------------------------------------------- | ------------------------- |
| **Supabase**         | PostgreSQL 기반의 데이터베이스 및 백엔드 서비스 | 정보 보관 금고 및 관리인  |
| **Clerk**            | 사용자 인증 (로그인/회원가입) 솔루션            | 출입 통제 시스템 (경비원) |
| **Google Gemini AI** | RAG 기반 챗봇 구동을 위한 LLM (AI 모델)         | 똑똑한 상담원             |
| **Naver Maps API**   | 한국 지도 서비스 연동                           | 네비게이션                |

### 🚀 Infra & Deploy (운영 및 배포)

| 기술       | 설명                                   |
| ---------- | -------------------------------------- |
| **Vercel** | Next.js 프로젝트 호스팅 및 배포 플랫폼 |
| **GitHub** | 소스 코드 버전 관리 저장소             |

---

## 2. 왜 이 기술들을 선택했나요? (Decision Rationale)

1.  **Next.js (App Router)**: 최신 React 기능을 활용하며, 검색 엔진 최적화(SEO)에 유리하고 초기 로딩 속도가 빠릅니다.
2.  **Supabase**: 별도의 백엔드 서버를 구축할 필요 없이 데이터베이스, 스토리지, 실시간 기능을 바로 사용할 수 있어 개발 속도가 매우 빠릅니다.
3.  **Clerk**: 보안이 중요한 로그인 기능을 직접 구현하는 대신, 검증된 솔루션을 사용하여 카카오톡 등 소셜 로그인을 쉽게 연동했습니다.
4.  **Google AI (Gemini)**: 긴 문맥(Context Window) 처리에 강점이 있어, 복잡한 산재 관련 법령 문서를 참고하여 답변하는 데 유리합니다. 무료/저렴한 티어로 시작하기 좋습니다.

---

## 3. 시스템 아키텍처 (System Architecture)

전체 시스템이 어떻게 연결되어 있는지 보여주는 다이어그램입니다.

```mermaid
graph TB
    User[사용자 (Browser)]

    subgraph "Hosting (Vercel)"
        NextJS[Next.js Application]
        API[Server Actions / API Routes]
    end

    subgraph "External Services"
        Clerk[Clerk Auth]
        GoogleAI[Google Gemini AI]
        Naver[Naver Maps]
    end

    subgraph "Database (Supabase)"
        DB[(PostgreSQL)]
        Storage[File Storage]
        AuthSync[User Sync]
    end

    User -->|접속| NextJS
    NextJS -->|로그인 관리| Clerk
    NextJS -->|데이터 읽기/쓰기| DB
    NextJS -->|이미지 업로드| Storage
    NextJS -->|주소/지도| Naver

    API -->|질문| GoogleAI
    GoogleAI -->|답변| API

    Clerk -->|Webhook (유저 정보 동기화)| AuthSync
    AuthSync --> DB
```

### 데이터 흐름 설명

1.  **사용자 접속**: 사용자가 브라우저로 접속하면 Vercel에 배포된 Next.js 앱이 화면을 보여줍니다.
2.  **로그인**: Clerk를 통해 로그인을 수행합니다. 로그인 성공 시, Clerk는 Supabase의 `users` 테이블에 사용자 정보를 동기화(Webhook)합니다.
3.  **데이터 조회**: 병원 목록, 게시글 등은 Supabase 데이터베이스에서 직접 가져옵니다. 보안을 위해 RLS(Row Level Security) 정책이 적용되어 본인의 데이터만 수정할 수 있습니다.
4.  **AI 상담**: 사용자가 질문을 하면 서버에서 관련 문서를 검색(Retrieval)하고, 이를 Google Gemini AI에 보내 답변을 생성(Generation)하여 사용자에게 전달합니다.

---

## 4. 주요 디렉토리 구조 (Directory Structure)

```
hospital_data/
├── app/                    # 페이지 라우팅 (URL 구조와 일치)
│   ├── api/                # API 엔드포인트
│   ├── dashboard/          # 대시보드 페이지
│   └── ...
├── components/             # 재사용 가능한 UI 컴포넌트
│   ├── ui/                 # 버튼, 입력창 등 기본 요소
│   ├── dashboard/          # 대시보드 전용 컴포넌트
│   └── ...
├── lib/                    # 유틸리티 함수 및 설정
│   ├── supabase/           # DB 연결 관련 코드
│   ├── google-ai/          # AI 연동 관련 코드
│   └── ...
├── public/                 # 이미지, 아이콘 등 정적 파일
├── supabase/               # DB 마이그레이션(SQL) 파일
└── docs/                   # ⭐️ 프로젝트 문서 (현재 보고 계신 파일들)
```
